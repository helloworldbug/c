(function(H){"object"===typeof exports&&"undefined"!==typeof module?module.exports=H():"function"===typeof define&&define.amd?define([],H):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).html2canvas=H()})(function(){return function g(k,m,a){function e(b,c){if(!m[b]){if(!k[b]){var f="function"==typeof require&&require;if(!c&&f)return f(b,!0);if(d)return d(b,!0);f=Error("Cannot find module '"+b+"'");throw f.code="MODULE_NOT_FOUND",f;}f=m[b]=
{exports:{}};k[b][0].call(f.exports,function(a){var f=k[b][1][a];return e(f?f:a)},f,f.exports,g,k,m,a)}return m[b].exports}for(var d="function"==typeof require&&require,b=0;b<a.length;b++)e(a[b]);return e}({1:[function(g,k,m){(function(a){(function(e){function d(a){throw new RangeError(y[a]);}function b(a,b){for(var f=a.length,c=[];f--;)c[f]=b(a[f]);return c}function h(a,f){var c=a.split("@"),l="";1<c.length&&(l=c[0]+"@",a=c[1]);a=a.replace(A,".");c=a.split(".");c=b(c,f).join(".");return l+c}function c(a){for(var b=
    [],f=0,c=a.length,l,p;f<c;)l=a.charCodeAt(f++),55296<=l&&56319>=l&&f<c?(p=a.charCodeAt(f++),56320==(p&64512)?b.push(((l&1023)<<10)+(p&1023)+65536):(b.push(l),f--)):b.push(l);return b}function f(a){return b(a,function(a){var b="";65535<a&&(a-=65536,b+=z(a>>>10&1023|55296),a=56320|a&1023);return b+=z(a)}).join("")}function r(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function g(a,b,f){var c=0;a=f?v(a/700):a>>1;for(a+=v(a/b);455<a;c+=36)a=v(a/35);return v(c+36*a/(a+38))}function p(a){var b=[],c=a.length,
    l,p=0,r=128,h=72,e,q,t,n,k;e=a.lastIndexOf("-");0>e&&(e=0);for(q=0;q<e;++q)128<=a.charCodeAt(q)&&d("not-basic"),b.push(a.charCodeAt(q));for(e=0<e?e+1:0;e<c;){q=p;l=1;for(t=36;;t+=36){e>=c&&d("invalid-input");n=a.charCodeAt(e++);n=10>n-48?n-22:26>n-65?n-65:26>n-97?n-97:36;(36<=n||n>v((2147483647-p)/l))&&d("overflow");p+=n*l;k=t<=h?1:t>=h+26?26:t-h;if(n<k)break;n=36-k;l>v(2147483647/n)&&d("overflow");l*=n}l=b.length+1;h=g(p-q,l,0==q);v(p/l)>2147483647-r&&d("overflow");r+=v(p/l);p%=l;b.splice(p++,0,
    r)}return f(b)}function q(a){var b,f,l,p,h,e,q,t,n,k=[],y,m,x;a=c(a);y=a.length;b=128;f=0;h=72;for(e=0;e<y;++e)n=a[e],128>n&&k.push(z(n));for((l=p=k.length)&&k.push("-");l<y;){q=2147483647;for(e=0;e<y;++e)n=a[e],n>=b&&n<q&&(q=n);m=l+1;q-b>v((2147483647-f)/m)&&d("overflow");f+=(q-b)*m;b=q;for(e=0;e<y;++e)if(n=a[e],n<b&&2147483647<++f&&d("overflow"),n==b){t=f;for(q=36;;q+=36){n=q<=h?1:q>=h+26?26:q-h;if(t<n)break;x=t-n;t=36-n;k.push(z(r(n+x%t,0)));t=v(x/t)}k.push(z(r(t,0)));h=g(f,m,l==p);f=0;++l}++f;
    ++b}return k.join("")}var l="object"==typeof m&&m&&!m.nodeType&&m,t="object"==typeof k&&k&&!k.nodeType&&k,n="object"==typeof a&&a;if(n.global===n||n.window===n||n.self===n)e=n;var x=/^xn--/,E=/[^\x20-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=Math.floor,z=String.fromCharCode,C,n={version:"1.3.2",ucs2:{decode:c,encode:f},decode:p,encode:q,toASCII:function(a){return h(a,
    function(a){return E.test(a)?"xn--"+q(a):a})},toUnicode:function(a){return h(a,function(a){return x.test(a)?p(a.slice(4).toLowerCase()):a})}};if(l&&t)if(k.exports==l)t.exports=n;else for(C in n)n.hasOwnProperty(C)&&(l[C]=n[C]);else e.punycode=n})(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(g,k,m){function a(b,e){for(var c=3===b.nodeType?document.createTextNode(b.nodeValue):b.cloneNode(!1),f=b.firstChild;f;)!0!==
e&&1===f.nodeType&&"SCRIPT"===f.nodeName||c.appendChild(a(f,e)),f=f.nextSibling;if(1===b.nodeType)if(c._scrollTop=b.scrollTop,c._scrollLeft=b.scrollLeft,"CANVAS"===b.nodeName)try{c&&(c.width=b.width,c.height=b.height,c.getContext("2d").putImageData(b.getContext("2d").getImageData(0,0,b.width,b.height),0,0))}catch(r){d("Unable to copy canvas content from",b,r)}else if("TEXTAREA"===b.nodeName||"SELECT"===b.nodeName)c.value=b.value;return c}function e(a){if(1===a.nodeType)for(a.scrollTop=a._scrollTop,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  a.scrollLeft=a._scrollLeft,a=a.firstChild;a;)e(a),a=a.nextSibling}var d=g("./log");k.exports=function(b,d,c,f,r,g,p){var q=a(b.documentElement,r.javascriptEnabled),l=d.createElement("iframe");l.className="html2canvas-container";l.style.visibility="hidden";l.style.position="fixed";l.style.left="-10000px";l.style.top="0px";l.style.border="0";l.width=c;l.height=f;l.scrolling="no";d.body.appendChild(l);return new Promise(function(a){var f=l.contentWindow.document;l.contentWindow.onload=l.onload=function(){var b=
    setInterval(function(){0<f.body.childNodes.length&&(e(f.documentElement),clearInterval(b),"view"===r.type&&(l.contentWindow.scrollTo(g,p),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.contentWindow.scrollY===p&&l.contentWindow.scrollX===g||(f.documentElement.style.top=-p+"px",f.documentElement.style.left=-g+"px",f.documentElement.style.position="absolute")),a(l))},50)};f.open();f.write("<!DOCTYPE html><html></html>");!b.defaultView||g===b.defaultView.pageXOffset&&p===b.defaultView.pageYOffset||
b.defaultView.scrollTo(g,p);f.replaceChild(f.adoptNode(q),f.documentElement);f.close()})}},{"./log":13}],3:[function(g,k,m){function a(a){this.b=this.g=this.r=0;this.a=null;this.fromArray(a)||this.namedColor(a)||this.rgb(a)||this.rgba(a)||this.hex6(a)||this.hex3(a)}a.prototype.darken=function(b){b=1-b;return new a([Math.round(this.r*b),Math.round(this.g*b),Math.round(this.b*b),this.a])};a.prototype.isTransparent=function(){return 0===this.a};a.prototype.isBlack=function(){return 0===this.r&&0===this.g&&
    0===this.b};a.prototype.fromArray=function(a){Array.isArray(a)&&(this.r=Math.min(a[0],255),this.g=Math.min(a[1],255),this.b=Math.min(a[2],255),3<a.length&&(this.a=a[3]));return Array.isArray(a)};var e=/^#([a-f0-9]{3})$/i;a.prototype.hex3=function(a){var b=null;null!==(b=a.match(e))&&(this.r=parseInt(b[1][0]+b[1][0],16),this.g=parseInt(b[1][1]+b[1][1],16),this.b=parseInt(b[1][2]+b[1][2],16));return null!==b};var d=/^#([a-f0-9]{6})$/i;a.prototype.hex6=function(a){var b=null;null!==(b=a.match(d))&&(this.r=
    parseInt(b[1].substring(0,2),16),this.g=parseInt(b[1].substring(2,4),16),this.b=parseInt(b[1].substring(4,6),16));return null!==b};var b=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;a.prototype.rgb=function(a){var c=null;null!==(c=a.match(b))&&(this.r=Number(c[1]),this.g=Number(c[2]),this.b=Number(c[3]));return null!==c};var h=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;a.prototype.rgba=function(a){var b=null;null!==(b=a.match(h))&&(this.r=Number(b[1]),
    this.g=Number(b[2]),this.b=Number(b[3]),this.a=Number(b[4]));return null!==b};a.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join()+")":"rgb("+[this.r,this.g,this.b].join()+")"};a.prototype.namedColor=function(a){a=a.toLowerCase();var b=c[a];if(b)this.r=b[0],this.g=b[1],this.b=b[2];else if("transparent"===a)return this.r=this.g=this.b=this.a=0,!0;return!!b};a.prototype.isColor=!0;var c={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,
    255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,
    0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],
    forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,
        255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,
        211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,
        238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,
        128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};k.exports=a},{}],4:[function(g,k,m){function a(a,b){var c=A++;b=b||{};b.logging&&(l.options.logging=!0,l.options.start=Date.now());b.async="undefined"===typeof b.async?!0:b.async;b.allowTaint="undefined"===
typeof b.allowTaint?!1:b.allowTaint;b.removeContainer="undefined"===typeof b.removeContainer?!0:b.removeContainer;b.javascriptEnabled="undefined"===typeof b.javascriptEnabled?!1:b.javascriptEnabled;b.imageTimeout="undefined"===typeof b.imageTimeout?1E4:b.imageTimeout;b.renderer="function"===typeof b.renderer?b.renderer:u;b.strict=!!b.strict;if("string"===typeof a){if("string"!==typeof b.proxy)return Promise.reject("Proxy must be used when rendering url");var p=null!=b.width?b.width:window.innerWidth,
    h=null!=b.height?b.height:window.innerHeight;return x(f(a),b.proxy,document,p,h,b).then(function(a){return d(a.contentWindow.document.documentElement,a,b,p,h)})}var q=(void 0===a?[document.documentElement]:a.length?a:[a])[0];q.setAttribute("data-html2canvas-node"+c,c);return e(q.ownerDocument,b,a.outerWidth(),a.outerHeight(),c).then(function(a){"function"===typeof b.onrendered&&(l("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),b.onrendered(a));return a})}
    function e(a,b,c,f,p){return n(a,a,c,f,b,a.defaultView.pageXOffset,a.defaultView.pageYOffset).then(function(e){l("Document cloned");var h="data-html2canvas-node"+p,q="["+h+"='"+p+"']";a.querySelector(q).removeAttribute(h);var h=e.contentWindow,g=h.document.querySelector(q);return("function"===typeof b.onclone?Promise.resolve(b.onclone(h.document)):Promise.resolve(!0)).then(function(){return d(g,e,b,c,f)})})}function d(a,f,d,e,g){var t=f.contentWindow,n=new r(t.document),u=new p(d,n),k=E(a);e="view"===
    d.type?e:h(t.document);g="view"===d.type?g:c(t.document);var m=new d.renderer(e,g,u,d,document);return(new q(a,m,n,u,d)).ready.then(function(){l("Finished rendering");var c;c="view"===d.type?b(m.canvas,{width:m.canvas.width,height:m.canvas.height,top:0,left:0,x:0,y:0}):a===t.document.body||a===t.document.documentElement||null!=d.canvas?m.canvas:b(m.canvas,{width:null!=d.width?d.width:k.width,height:null!=d.height?d.height:k.height,top:k.top,left:k.left,x:0,y:0});d.removeContainer&&(f.parentNode.removeChild(f),
        l("Cleaned up container"));return c})}function b(a,b){var c=document.createElement("canvas"),f=Math.min(a.width-1,Math.max(0,b.left)),p=Math.min(a.width,Math.max(1,b.left+b.width)),d=Math.min(a.height-1,Math.max(0,b.top)),e=Math.min(a.height,Math.max(1,b.top+b.height));c.width=b.width;c.height=b.height;p-=f;e-=d;l("Cropping canvas at:","left:",b.left,"top:",b.top,"width:",p,"height:",e);l("Resulting crop with width",b.width,"and height",b.height,"with x",f,"and y",d);c.getContext("2d").drawImage(a,
        f,d,p,e,b.x,b.y,p,e);return c}function h(a){return Math.max(Math.max(a.body.scrollWidth,a.documentElement.scrollWidth),Math.max(a.body.offsetWidth,a.documentElement.offsetWidth),Math.max(a.body.clientWidth,a.documentElement.clientWidth))}function c(a){return Math.max(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))}function f(a){var b=document.createElement("a");b.href=
        a;b.href=b.href;return b}var r=g("./support"),u=g("./renderers/canvas"),p=g("./imageloader"),q=g("./nodeparser");m=g("./nodecontainer");var l=g("./log"),t=g("./utils"),n=g("./clone"),x=g("./proxy").loadUrlDocument,E=t.getBounds,A=0;a.CanvasRenderer=u;a.NodeContainer=m;a.log=l;a.utils=t;g="undefined"===typeof document||"function"!==typeof Object.create||"function"!==typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:a;k.exports=g},{"./clone":2,
    "./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(g,k,m){function a(b){this.src=b;e("DummyImageContainer for",b);if(!this.promise||!this.image){e("Initiating DummyImageContainer");a.prototype.image=new Image;var h=this.image;a.prototype.promise=new Promise(function(a,b){h.onload=a;h.onerror=b;h.src=d();!0===h.complete&&a(h)})}}var e=g("./log"),d=g("./utils").smallImage;k.exports=a},{"./log":13,"./utils":26}],
    6:[function(g,k,m){var a=g("./utils").smallImage;k.exports=function(e,d){var b=document.createElement("div"),h=document.createElement("img"),c=document.createElement("span"),f;b.style.visibility="hidden";b.style.fontFamily=e;b.style.fontSize=d;b.style.margin=0;b.style.padding=0;document.body.appendChild(b);h.src=a();h.width=1;h.height=1;h.style.margin=0;h.style.padding=0;h.style.verticalAlign="baseline";c.style.fontFamily=e;c.style.fontSize=d;c.style.margin=0;c.style.padding=0;c.appendChild(document.createTextNode("Hidden Text"));
        b.appendChild(c);b.appendChild(h);f=h.offsetTop-c.offsetTop+1;b.removeChild(c);b.appendChild(document.createTextNode("Hidden Text"));b.style.lineHeight="normal";h.style.verticalAlign="super";h=h.offsetTop-b.offsetTop+1;document.body.removeChild(b);this.baseline=f;this.lineWidth=1;this.middle=h}},{"./utils":26}],7:[function(g,k,m){function a(){this.data={}}var e=g("./font");a.prototype.getMetrics=function(a,b){void 0===this.data[a+"-"+b]&&(this.data[a+"-"+b]=new e(a,b));return this.data[a+"-"+b]};
        k.exports=a},{"./font":6}],8:[function(g,k,m){function a(a,d,c){this.image=null;this.src=a;var f=this,r=e(a);this.promise=(d?new Promise(function(c){"about:blank"===a.contentWindow.document.URL||null==a.contentWindow.document.documentElement?a.contentWindow.onload=a.onload=function(){c(a)}:c(a)}):this.proxyLoad(c.proxy,r,c)).then(function(a){return g("./core")(a.contentWindow.document.documentElement,{type:"view",width:a.width,height:a.height,proxy:c.proxy,javascriptEnabled:c.javascriptEnabled,removeContainer:c.removeContainer,
        allowTaint:c.allowTaint,imageTimeout:c.imageTimeout/2})}).then(function(a){return f.image=a})}var e=g("./utils").getBounds,d=g("./proxy").loadUrlDocument;a.prototype.proxyLoad=function(a,e,c){var f=this.src;return d(f.src,a,f.ownerDocument,e.width,e.height,c)};k.exports=a},{"./core":4,"./proxy":16,"./utils":26}],9:[function(g,k,m){function a(a){this.src=a.value;this.colorStops=[];this.type=null;this.y1=this.x1=this.y0=this.x0=.5;this.promise=Promise.resolve(!0)}a.TYPES={LINEAR:1,RADIAL:2};a.REGEXP_COLORSTOP=
        /^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i;k.exports=a},{}],10:[function(g,k,m){k.exports=function(a,e){this.src=a;this.image=new Image;var d=this;this.tainted=null;this.promise=new Promise(function(b,h){d.image.onload=b;d.image.onerror=h;e&&(d.image.crossOrigin="anonymous");d.image.src=a;!0===d.image.complete&&b(d.image)})}},{}],11:[function(g,k,m){function a(a,b){this.link=null;this.options=a;this.support=
        b;this.origin=this.getOrigin(window.location.href)}var e=g("./log"),d=g("./imagecontainer"),b=g("./dummyimagecontainer"),h=g("./proxyimagecontainer"),c=g("./framecontainer"),f=g("./svgcontainer"),r=g("./svgnodecontainer"),u=g("./lineargradientcontainer"),p=g("./webkitgradientcontainer"),q=g("./utils").bind;a.prototype.findImages=function(a){var b=[];a.reduce(function(a,b){switch(b.node.nodeName){case "IMG":return a.concat([{args:[b.node.src],method:"url"}]);case "svg":case "IFRAME":return a.concat([{args:[b.node],
        method:b.node.nodeName}])}return a},[]).forEach(this.addImage(b,this.loadImage),this);return b};a.prototype.findBackgroundImage=function(a,b){b.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(a,this.loadImage),this);return a};a.prototype.addImage=function(a,b){return function(c){c.args.forEach(function(f){this.imageExists(a,f)||(a.splice(0,0,b.call(this,c)),e("Added image #"+a.length,"string"===typeof f?f.substring(0,100):f))},this)}};a.prototype.hasImageBackground=function(a){return"none"!==
        a.method};a.prototype.loadImage=function(a){return"url"===a.method?(a=a.args[0],!this.isSVG(a)||this.support.svg||this.options.allowTaint?a.match(/data:image\/.*;base64,/i)?new d(a.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),!1):this.isSameOrigin(a)||!0===this.options.allowTaint||this.isSVG(a)?new d(a,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new d(a,!0):this.options.proxy?new h(a,this.options.proxy):new b(a):new f(a)):"linear-gradient"===a.method?new u(a):"gradient"===a.method?
        new p(a):"svg"===a.method?new r(a.args[0],this.support.svg):"IFRAME"===a.method?new c(a.args[0],this.isSameOrigin(a.args[0].src),this.options):new b(a)};a.prototype.isSVG=function(a){return"svg"===a.substring(a.length-3).toLowerCase()||f.prototype.isInline(a)};a.prototype.imageExists=function(a,b){return a.some(function(a){return a.src===b})};a.prototype.isSameOrigin=function(a){return this.getOrigin(a)===this.origin};a.prototype.getOrigin=function(a){var b=this.link||(this.link=document.createElement("a"));
        b.href=a;b.href=b.href;return b.protocol+b.hostname+b.port};a.prototype.getPromise=function(a){return this.timeout(a,this.options.imageTimeout)["catch"](function(){return(new b(a.src)).promise.then(function(b){a.image=b})})};a.prototype.get=function(a){var b=null;return this.images.some(function(c){return(b=c).src===a})?b:null};a.prototype.fetch=function(a){this.images=a.reduce(q(this.findBackgroundImage,this),this.findImages(a));this.images.forEach(function(a,b){a.promise.then(function(){e("Succesfully loaded image #"+
        (b+1),a)},function(c){e("Failed loading image #"+(b+1),a,c)})});this.ready=Promise.all(this.images.map(this.getPromise,this));e("Finished searching images");return this};a.prototype.timeout=function(a,b){var c,f=Promise.race([a.promise,new Promise(function(f,p){c=setTimeout(function(){e("Timed out loading image",a);p(a)},b)})]).then(function(a){clearTimeout(c);return a});f["catch"](function(){clearTimeout(c)});return f};k.exports=a},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,
        "./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(g,k,m){function a(b){e.apply(this,arguments);this.type=e.TYPES.LINEAR;var h=a.REGEXP_DIRECTION.test(b.args[0])||!e.REGEXP_COLORSTOP.test(b.args[0]);h?b.args[0].split(/\s+/).reverse().forEach(function(a,b){switch(a){case "left":this.x0=0;this.x1=1;break;case "top":this.y0=0;this.y1=1;break;case "right":this.x0=1;this.x1=0;break;
        case "bottom":this.y0=1;this.y1=0;break;case "to":var d=this.y0,e=this.x0;this.y0=this.y1;this.x0=this.x1;this.x1=e;this.y1=d;break;case "center":break;default:d=.01*parseFloat(a,10);if(isNaN(d))break;0===b?(this.y0=d,this.y1=1-this.y0):(this.x0=d,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1);this.colorStops=b.args.slice(h?1:0).map(function(a){a=a.match(e.REGEXP_COLORSTOP);var b=+a[2],h=0===b?"%":a[3];return{color:new d(a[1]),stop:"%"===h?b/100:null}});null===this.colorStops[0].stop&&(this.colorStops[0].stop=
        0);null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1);this.colorStops.forEach(function(a,b){null===a.stop&&this.colorStops.slice(b).some(function(d,e){return null!==d.stop?(a.stop=(d.stop-this.colorStops[b-1].stop)/(e+1)+this.colorStops[b-1].stop,!0):!1},this)},this)}var e=g("./gradientcontainer"),d=g("./color");a.prototype=Object.create(e.prototype);a.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i;k.exports=
        a},{"./color":3,"./gradientcontainer":9}],13:[function(g,k,m){var a=function(){a.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-a.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};a.options={logging:!1};k.exports=a},{}],14:[function(g,k,m){function a(a,b){this.node=a;this.parent=b;this.borders=this.bounds=this.stack=null;this.clip=[];this.backgroundClip=[];this.computedStyles=
        this.visible=this.offsetBounds=null;this.colors={};this.styles={};this.transformMatrix=this.transformData=this.backgroundImages=null;this.isPseudoElement=!1;this.opacity=null}function e(a){if(a&&"matrix"===a[1])return a[2].split(",").map(function(a){return parseFloat(a.trim())});if(a&&"matrix3d"===a[1])return a=a[2].split(",").map(function(a){return parseFloat(a.trim())}),[a[0],a[1],a[4],a[5],a[12],a[13]]}function d(a){return-1!==a.toString().indexOf("%")}function b(a){return a.replace("px","")}function h(a){return parseFloat(a)}
        var c=g("./color");g=g("./utils");var f=g.getBounds,r=g.parseBackgrounds,u=g.offsetBounds;a.prototype.cloneTo=function(a){a.visible=this.visible;a.borders=this.borders;a.bounds=this.bounds;a.clip=this.clip;a.backgroundClip=this.backgroundClip;a.computedStyles=this.computedStyles;a.styles=this.styles;a.backgroundImages=this.backgroundImages;a.opacity=this.opacity};a.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity};a.prototype.assignStack=
            function(a){this.stack=a;a.children.push(this)};a.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))};a.prototype.css=function(a){this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null));
            return this.styles[a]||(this.styles[a]=this.computedStyles[a])};a.prototype.prefixedCss=function(a){var b=["webkit","moz","ms","o"],c=this.css(a);void 0===c&&b.some(function(b){c=this.css(b+a.substr(0,1).toUpperCase()+a.substr(1));return void 0!==c},this);return void 0===c?null:c};a.prototype.computedStyle=function(a){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,a)};a.prototype.cssInt=function(a){a=parseInt(this.css(a),10);return isNaN(a)?0:a};a.prototype.color=function(a){return this.colors[a]||
            (this.colors[a]=new c(this.css(a)))};a.prototype.cssFloat=function(a){a=parseFloat(this.css(a));return isNaN(a)?0:a};a.prototype.fontWeight=function(){var a=this.css("fontWeight");switch(parseInt(a,10)){case 401:a="bold";break;case 400:a="normal"}return a};a.prototype.parseClip=function(){var a=this.css("clip").match(this.CLIP);return a?{top:parseInt(a[1],10),right:parseInt(a[2],10),bottom:parseInt(a[3],10),left:parseInt(a[4],10)}:null};a.prototype.parseBackgroundImages=function(){return this.backgroundImages||
            (this.backgroundImages=r(this.css("backgroundImage")))};a.prototype.cssList=function(a,b){var c=(this.css(a)||"").split(","),c=c[b||0]||c[0]||"auto",c=c.trim().split(" ");1===c.length&&(c=[c[0],d(c[0])?"auto":c[0]]);return c};a.prototype.parseBackgroundSize=function(a,b,c){c=this.cssList("backgroundSize",c);var f;if(d(c[0]))f=a.width*parseFloat(c[0])/100;else{if(/contain|cover/.test(c[0]))return b=b.width/b.height,a.width/a.height<b^"contain"===c[0]?{width:a.height*b,height:a.height}:{width:a.width,
            height:a.width/b};f=parseInt(c[0],10)}a="auto"===c[0]&&"auto"===c[1]?b.height:"auto"===c[1]?f/b.width*b.height:d(c[1])?a.height*parseFloat(c[1])/100:parseInt(c[1],10);"auto"===c[0]&&(f=a/b.height*b.width);return{width:f,height:a}};a.prototype.parseBackgroundPosition=function(a,b,c,f){c=this.cssList("backgroundPosition",c);var e;e=d(c[0])?(a.width-(f||b).width)*(parseFloat(c[0])/100):parseInt(c[0],10);a="auto"===c[1]?e/b.width*b.height:d(c[1])?(a.height-(f||b).height)*parseFloat(c[1])/100:parseInt(c[1],
            10);"auto"===c[0]&&(e=a/b.height*b.width);return{left:e,top:a}};a.prototype.parseBackgroundRepeat=function(a){return this.cssList("backgroundRepeat",a)[0]};a.prototype.parseTextShadows=function(){var a=this.css("textShadow"),b=[];if(a&&"none"!==a)for(var a=a.match(this.TEXT_SHADOW_PROPERTY),f=0;a&&f<a.length;f++){var d=a[f].match(this.TEXT_SHADOW_VALUES);b.push({color:new c(d[0]),offsetX:d[1]?parseFloat(d[1].replace("px","")):0,offsetY:d[2]?parseFloat(d[2].replace("px","")):0,blur:d[3]?d[3].replace("px",
            ""):0})}return b};a.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var a=this.parseBounds(),c=this.prefixedCss("transformOrigin").split(" ").map(b).map(h);c[0]+=a.left;c[1]+=a.top;this.transformData={origin:c,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData};a.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var a=this.prefixedCss("transform");this.transformMatrix=(a=a?e(a.match(this.MATRIX_PROPERTY)):
            null)?a:[1,0,0,1,0,0]}return this.transformMatrix};a.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?u(this.node):f(this.node))};a.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()};a.prototype.getValue=function(){var a=this.node.value||"";"SELECT"===this.node.tagName?(a=this.node,a=(a=a.options[a.selectedIndex||0])?a.text||"":""):"password"===this.node.type&&(a=Array(a.length+
            1).join("\u2022"));return 0===a.length?this.node.placeholder||"":a};a.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/;a.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g;a.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;a.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/;k.exports=a},{"./color":3,"./utils":26}],15:[function(g,k,m){function a(a,b,c,f,d){w("Starting NodeParser");this.renderer=b;this.options=d;this.range=null;this.support=
        c;this.renderQueue=[];this.stack=new G(!0,1,a.ownerDocument,null);c=new J(a,null);d.background&&b.rectangle(0,0,b.width,b.height,new B(d.background));if(a===a.ownerDocument.documentElement){var e=new J(c.color("backgroundColor").isTransparent()?a.ownerDocument.body:a.ownerDocument.documentElement,null);b.rectangle(0,0,b.width,b.height,e.color("backgroundColor"))}c.visibile=c.isElementVisible();this.createPseudoHideStyles(a.ownerDocument);this.disableAnimations(a.ownerDocument);this.nodes=I([c].concat(this.getChildren(c)).filter(function(a){return a.visible=
        a.isElementVisible()}).map(this.getPseudoElements,this));this.fontMetrics=new S;w("Fetched nodes, total:",this.nodes.length);w("Calculate overflow clips");this.calculateOverflowClips();w("Start fetching images");this.images=f.fetch(this.nodes.filter(z));this.ready=this.images.ready.then(L(function(){w("Images loaded, starting parsing");w("Creating stacking contexts");this.createStackingContexts();w("Sorting stacking contexts");this.sortStackingContexts(this.stack);this.parse(this.stack);w("Render queue created with "+
        this.renderQueue.length+" items");return new Promise(L(function(a){d.async?"function"===typeof d.async?d.async.call(this,this.renderQueue,a):0<this.renderQueue.length?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,a)):a():(this.renderQueue.forEach(this.paint,this),a())},this))},this))}function e(a){return a.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-","")})}function d(){}function b(a,b,c,f){return a.map(function(d,e){if(0<d.width){var h=b.left,g=b.top,l=b.width,k=b.height-
        a[2].width;switch(e){case 0:k=a[0].width;d.args=r({c1:[h,g],c2:[h+l,g],c3:[h+l-a[1].width,g+k],c4:[h+a[3].width,g+k]},f[0],f[1],c.topLeftOuter,c.topLeftInner,c.topRightOuter,c.topRightInner);break;case 1:h=b.left+b.width-a[1].width;l=a[1].width;d.args=r({c1:[h+l,g],c2:[h+l,g+k+a[2].width],c3:[h,g+k],c4:[h,g+a[0].width]},f[1],f[2],c.topRightOuter,c.topRightInner,c.bottomRightOuter,c.bottomRightInner);break;case 2:g=g+b.height-a[2].width;k=a[2].width;d.args=r({c1:[h+l,g+k],c2:[h,g+k],c3:[h+a[3].width,
        g],c4:[h+l-a[3].width,g]},f[2],f[3],c.bottomRightOuter,c.bottomRightInner,c.bottomLeftOuter,c.bottomLeftInner);break;case 3:l=a[3].width,d.args=r({c1:[h,g+k+a[2].width],c2:[h,g],c3:[h+l,g+a[0].width],c4:[h+l,g+k]},f[3],f[0],c.bottomLeftOuter,c.bottomLeftInner,c.topLeftOuter,c.topLeftInner)}}return d})}function h(a,b,c,d){var e=(Math.sqrt(2)-1)/3*4,h=c*e,e=d*e;c=a+c;d=b+d;return{topLeft:f({x:a,y:d},{x:a,y:d-e},{x:c-h,y:b},{x:c,y:b}),topRight:f({x:a,y:b},{x:a+h,y:b},{x:c,y:d-e},{x:c,y:d}),bottomRight:f({x:c,
        y:b},{x:c,y:b+e},{x:a+h,y:d},{x:a,y:d}),bottomLeft:f({x:c,y:d},{x:c-h,y:d},{x:a,y:b+e},{x:a,y:b})}}function c(a,b,c){var f=a.left,d=a.top,e=a.width;a=a.height;var g=b[0][0]<e/2?b[0][0]:e/2,l=b[0][1]<a/2?b[0][1]:a/2,r=b[1][0]<e/2?b[1][0]:e/2,k=b[1][1]<a/2?b[1][1]:a/2,q=b[2][0]<e/2?b[2][0]:e/2,n=b[2][1]<a/2?b[2][1]:a/2,u=b[3][0]<e/2?b[3][0]:e/2;b=b[3][1]<a/2?b[3][1]:a/2;var p=e-r,m=a-n,t=e-q,x=a-b;return{topLeftOuter:h(f,d,g,l).topLeft.subdivide(.5),topLeftInner:h(f+c[3].width,d+c[0].width,Math.max(0,
        g-c[3].width),Math.max(0,l-c[0].width)).topLeft.subdivide(.5),topRightOuter:h(f+p,d,r,k).topRight.subdivide(.5),topRightInner:h(f+Math.min(p,e+c[3].width),d+c[0].width,p>e+c[3].width?0:r-c[3].width,k-c[0].width).topRight.subdivide(.5),bottomRightOuter:h(f+t,d+m,q,n).bottomRight.subdivide(.5),bottomRightInner:h(f+Math.min(t,e-c[3].width),d+Math.min(m,a+c[0].width),Math.max(0,q-c[1].width),n-c[2].width).bottomRight.subdivide(.5),bottomLeftOuter:h(f,d+x,u,b).bottomLeft.subdivide(.5),bottomLeftInner:h(f+
        c[3].width,d+x,Math.max(0,u-c[3].width),b-c[2].width).bottomLeft.subdivide(.5)}}function f(a,b,c,d){var e=function(a,b,c){return{x:a.x+(b.x-a.x)*c,y:a.y+(b.y-a.y)*c}};return{start:a,startControl:b,endControl:c,end:d,subdivide:function(h){var g=e(a,b,h),l=e(b,c,h),r=e(c,d,h),k=e(g,l,h),l=e(l,r,h);h=e(k,l,h);return[f(a,g,k,h),f(h,l,r,d)]},curveTo:function(a){a.push(["bezierCurve",b.x,b.y,c.x,c.y,d.x,d.y])},curveToReversed:function(f){f.push(["bezierCurve",c.x,c.y,b.x,b.y,a.x,a.y])}}}function r(a,b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         c,f,d,e,h){var g=[];0<b[0]||0<b[1]?(g.push(["line",f[1].start.x,f[1].start.y]),f[1].curveTo(g)):g.push(["line",a.c1[0],a.c1[1]]);0<c[0]||0<c[1]?(g.push(["line",e[0].start.x,e[0].start.y]),e[0].curveTo(g),g.push(["line",h[0].end.x,h[0].end.y]),h[0].curveToReversed(g)):(g.push(["line",a.c2[0],a.c2[1]]),g.push(["line",a.c3[0],a.c3[1]]));0<b[0]||0<b[1]?(g.push(["line",d[1].end.x,d[1].end.y]),d[1].curveToReversed(g)):g.push(["line",a.c4[0],a.c4[1]]);return g}function u(a,b,c,f,d,e,h){0<b[0]||0<b[1]?(a.push(["line",
        f[0].start.x,f[0].start.y]),f[0].curveTo(a),f[1].curveTo(a)):a.push(["line",e,h]);(0<c[0]||0<c[1])&&a.push(["line",d[0].start.x,d[0].start.y])}function p(a){return 0>a.cssInt("zIndex")}function q(a){return 0<a.cssInt("zIndex")}function l(a){return 0===a.cssInt("zIndex")}function t(a){return-1!==["inline","inline-block","inline-table"].indexOf(a.css("display"))}function n(a){return 0<a.node.data.trim().length}function x(a){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(b){b=a.css("border"+
        b+"Radius").split(" ");1>=b.length&&(b[1]=b[0]);return b.map(O)})}function E(a){return a.nodeType===Node.TEXT_NODE||a.nodeType===Node.ELEMENT_NODE}function A(a){return"static"!==a.css("position")}function y(a){return"none"!==a.css("float")}function v(a){var b=this;return function(){return!a.apply(b,arguments)}}function z(a){return a.node.nodeType===Node.ELEMENT_NODE}function C(a){return a.node.nodeType===Node.TEXT_NODE}function N(a){return function(b,c){return b.cssInt("zIndex")+a.indexOf(b)/a.length-
        (c.cssInt("zIndex")+a.indexOf(c)/a.length)}}function O(a){return parseInt(a,10)}function P(a){return a.width}function Q(a){return a.node.nodeType!==Node.ELEMENT_NODE||-1==="SCRIPT HEAD TITLE OBJECT BR OPTION".split(" ").indexOf(a.node.nodeName)}function I(a){return[].concat.apply([],a)}function R(a){for(var b=[],c=0,f=!1,d;a.length;)-1!==[32,13,10,9,45].indexOf(a[c])===f?(d=a.splice(0,c),d.length&&b.push(F.ucs2.encode(d)),f=!f,c=0):c++,c>=a.length&&(d=a.splice(0,c),d.length&&b.push(F.ucs2.encode(d)));
        return b}var w=g("./log"),F=g("punycode"),J=g("./nodecontainer"),K=g("./textcontainer"),D=g("./pseudoelementcontainer"),S=g("./fontmetrics"),B=g("./color"),G=g("./stackingcontext");g=g("./utils");var L=g.bind,T=g.getBounds,U=g.parseBackgrounds,V=g.offsetBounds;a.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(a){if(z(a)){!0===a.isPseudoElement&&a.appendToDOM();a.borders=this.parseBorders(a);var b="hidden"===a.css("overflow")?[a.borders.clip]:[],c=a.parseClip();c&&-1!==["absolute",
        "fixed"].indexOf(a.css("position"))&&b.push([["rect",a.bounds.left+c.left,a.bounds.top+c.top,c.right-c.left,c.bottom-c.top]]);a.clip=a.parent&&a.parent.clip.length?a.parent.clip.concat(b):b;a.backgroundClip="hidden"!==a.css("overflow")?a.clip.concat([a.borders.clip]):a.clip;!0===a.isPseudoElement&&a.cleanDOM()}else C(a)&&(a.clip=a.parent&&a.parent.clip.length?a.parent.clip:[]);!0!==a.isPseudoElement&&(a.bounds=null)},this)};a.prototype.asyncRenderer=function(a,b,c){c=c||Date.now();this.paint(a[this.renderIndex++]);
        a.length===this.renderIndex?b():c+20>Date.now()?this.asyncRenderer(a,b,c):setTimeout(L(function(){this.asyncRenderer(a,b)},this),0)};a.prototype.createPseudoHideStyles=function(a){this.createStyles(a,"."+D.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+D.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')};a.prototype.disableAnimations=function(a){this.createStyles(a,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")};
        a.prototype.createStyles=function(a,b){var c=a.createElement("style");c.innerHTML=b;a.body.appendChild(c)};a.prototype.getPseudoElements=function(a){var b=[[a]];if(a.node.nodeType===Node.ELEMENT_NODE){var c=this.getPseudoElement(a,":before");a=this.getPseudoElement(a,":after");c&&b.push(c);a&&b.push(a)}return I(b)};a.prototype.getPseudoElement=function(a,b){var c=a.computedStyle(b);if(!c||!c.content||"none"===c.content||"-moz-alt-content"===c.content||"none"===c.display)return null;var f,d=c.content,
            h=d.substr(0,1);f=h===d.substr(d.length-1)&&h.match(/'|"/)?d.substr(1,d.length-2):d;for(var g="url"===f.substr(0,3),d=document.createElement(g?"img":"html2canvaspseudoelement"),h=new D(d,a,b),l=c.length-1;0<=l;l--){var r=e(c.item(l));d.style[r]=c[r]}d.className=D.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+D.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;if(g)return d.src=U(f)[0].args[0],[h];c=document.createTextNode(f);d.appendChild(c);return[h,new K(c,h)]};a.prototype.getChildren=function(a){return I([].filter.call(a.node.childNodes,
            E).map(function(b){var c=[b.nodeType===Node.TEXT_NODE?new K(b,a):new J(b,a)].filter(Q);return b.nodeType===Node.ELEMENT_NODE&&c.length&&"TEXTAREA"!==b.tagName?c[0].isElementVisible()?c.concat(this.getChildren(c[0])):[]:c},this))};a.prototype.newStackingContext=function(a,b){var c=new G(b,a.getOpacity(),a.node,a.parent);a.cloneTo(c);(b?c.getParentStack(this):c.parent.stack).contexts.push(c);a.stack=c};a.prototype.createStackingContexts=function(){this.nodes.forEach(function(a){var b;if(b=z(a))(b=this.isRootElement(a)||
            1>a.getOpacity())||(b=a.css("position"),b="auto"!==(-1!==["absolute","relative","fixed"].indexOf(b)?a.css("zIndex"):"auto")),b=b||this.isBodyWithTransparentRoot(a)||a.hasTransform();b?this.newStackingContext(a,!0):z(a)&&(A(a)&&l(a)||-1!==["inline-block","inline-table"].indexOf(a.css("display"))||y(a))?this.newStackingContext(a,!1):a.assignStack(a.parent.stack)},this)};a.prototype.isBodyWithTransparentRoot=function(a){return"BODY"===a.node.nodeName&&a.parent.color("backgroundColor").isTransparent()};
        a.prototype.isRootElement=function(a){return null===a.parent};a.prototype.sortStackingContexts=function(a){a.contexts.sort(N(a.contexts.slice(0)));a.contexts.forEach(this.sortStackingContexts,this)};a.prototype.parseTextBounds=function(a){return function(b,c,f){if("none"!==a.parent.css("textDecoration").substr(0,4)||0!==b.trim().length){if(this.support.rangeBounds&&!a.parent.hasTransform())return c=f.slice(0,c).join("").length,this.getRangeBounds(a.node,c,b.length);if(a.node&&"string"===typeof a.node.data)return b=
            a.node.splitText(b.length),c=this.getWrapperBounds(a.node,a.parent.hasTransform()),a.node=b,c}else if(!this.support.rangeBounds||a.parent.hasTransform())a.node=a.node.splitText(b.length);return{}}};a.prototype.getWrapperBounds=function(a,b){var c=a.ownerDocument.createElement("html2canvaswrapper"),f=a.parentNode,d=a.cloneNode(!0);c.appendChild(a.cloneNode(!0));f.replaceChild(c,a);var e=b?V(c):T(c);f.replaceChild(d,c);return e};a.prototype.getRangeBounds=function(a,b,c){var f=this.range||(this.range=
                a.ownerDocument.createRange());f.setStart(a,b);f.setEnd(a,b+c);return f.getBoundingClientRect()};a.prototype.parse=function(a){var b=a.contexts.filter(p),c=a.children.filter(z),f=c.filter(v(y)),e=f.filter(v(A)).filter(v(t)),c=c.filter(v(A)).filter(y),h=f.filter(v(A)).filter(t),f=a.contexts.concat(f.filter(A)).filter(l),g=a.children.filter(C).filter(n);a=a.contexts.filter(q);b.concat(e).concat(c).concat(h).concat(f).concat(g).concat(a).forEach(function(a){this.renderQueue.push(a);a instanceof G&&(this.parse(a),
            this.renderQueue.push(new d))},this)};a.prototype.paint=function(a){try{a instanceof d?this.renderer.ctx.restore():C(a)?(!0===a.parent.isPseudoElement&&a.parent.appendToDOM(),this.paintText(a),!0===a.parent.isPseudoElement&&a.parent.cleanDOM()):this.paintNode(a)}catch(b){if(w(b),this.options.strict)throw b;}};a.prototype.paintNode=function(a){a instanceof G&&(this.renderer.setOpacity(a.opacity),this.renderer.ctx.save(),a.hasTransform()&&this.renderer.setTransform(a.parseTransform()));"INPUT"===a.node.nodeName&&
        "checkbox"===a.node.type?this.paintCheckbox(a):"INPUT"===a.node.nodeName&&"radio"===a.node.type?this.paintRadio(a):this.paintElement(a)};a.prototype.paintElement=function(a){var b=a.parseBounds();this.renderer.clip(a.backgroundClip,function(){this.renderer.renderBackground(a,b,a.borders.borders.map(P))},this);this.renderer.clip(a.clip,function(){this.renderer.renderBorders(a.borders.borders)},this);this.renderer.clip(a.backgroundClip,function(){switch(a.node.nodeName){case "svg":case "IFRAME":var c=
            this.images.get(a.node);c?this.renderer.renderImage(a,b,a.borders,c):w("Error loading <"+a.node.nodeName+">",a.node);break;case "IMG":(c=this.images.get(a.node.src))?this.renderer.renderImage(a,b,a.borders,c):w("Error loading <img>",a.node.src);break;case "CANVAS":this.renderer.renderImage(a,b,a.borders,{image:a.node});break;case "SELECT":case "INPUT":case "TEXTAREA":this.paintFormValue(a)}},this)};a.prototype.paintCheckbox=function(a){var f=a.parseBounds(),d=Math.min(f.width,f.height),e={width:d-
        1,height:d-1,top:f.top,left:f.left},f=[3,3],h=[f,f,f,f],g=[1,1,1,1].map(function(a){return{color:new B("#A5A5A5"),width:a}}),l=c(e,h,g);this.renderer.clip(a.backgroundClip,function(){this.renderer.rectangle(e.left+1,e.top+1,e.width-2,e.height-2,new B("#DEDEDE"));this.renderer.renderBorders(b(g,e,l,h));a.node.checked&&(this.renderer.font(new B("#424242"),"normal","normal","bold",d-3+"px","arial"),this.renderer.text("\u2714",e.left+d/6,e.top+d-1))},this)};a.prototype.paintRadio=function(a){var b=a.parseBounds(),
            c=Math.min(b.width,b.height)-2;this.renderer.clip(a.backgroundClip,function(){this.renderer.circleStroke(b.left+1,b.top+1,c,new B("#DEDEDE"),1,new B("#A5A5A5"));a.node.checked&&this.renderer.circle(Math.ceil(b.left+c/4)+1,Math.ceil(b.top+c/4)+1,Math.floor(c/2),new B("#424242"))},this)};a.prototype.paintFormValue=function(a){var b=a.getValue();if(0<b.length){var c=a.node.ownerDocument,f=c.createElement("html2canvaswrapper");"lineHeight textAlign fontFamily fontWeight fontSize color paddingLeft paddingTop paddingRight paddingBottom width height borderLeftStyle borderTopStyle borderLeftWidth borderTopWidth boxSizing whiteSpace wordWrap".split(" ").forEach(function(b){try{f.style[b]=
            a.css(b)}catch(c){w("html2canvas: Parse: Exception caught in renderFormValue: "+c.message)}});var d=a.parseBounds();f.style.position="fixed";f.style.left=d.left+"px";f.style.top=d.top+"px";f.textContent=b;c.body.appendChild(f);this.paintText(new K(f.firstChild,a));c.body.removeChild(f)}};a.prototype.paintText=function(a){a.applyTextTransform();var b=F.ucs2.decode(a.node.data),c=this.options.letterRendering&&!/^(normal|none|0px)$/.test(a.parent.css("letterSpacing"))||/[^\u0000-\u00ff]/.test(a.node.data)?
            b.map(function(a){return F.ucs2.encode([a])}):R(b),b=a.parent.fontWeight(),f=a.parent.css("fontSize"),d=a.parent.css("fontFamily"),e=a.parent.parseTextShadows();this.renderer.font(a.parent.color("color"),a.parent.css("fontStyle"),a.parent.css("fontVariant"),b,f,d);e.length?this.renderer.fontShadow(e[0].color,e[0].offsetX,e[0].offsetY,e[0].blur):this.renderer.clearShadow();this.renderer.clip(a.parent.clip,function(){c.map(this.parseTextBounds(a),this).forEach(function(b,e){b&&(this.renderer.text(c[e],
            b.left,b.bottom),this.renderTextDecoration(a.parent,b,this.fontMetrics.getMetrics(d,f)))},this)},this)};a.prototype.renderTextDecoration=function(a,b,c){switch(a.css("textDecoration").split(" ")[0]){case "underline":this.renderer.rectangle(b.left,Math.round(b.top+c.baseline+c.lineWidth),b.width,1,a.color("color"));break;case "overline":this.renderer.rectangle(b.left,Math.round(b.top),b.width,1,a.color("color"));break;case "line-through":this.renderer.rectangle(b.left,Math.ceil(b.top+c.middle+c.lineWidth),
            b.width,1,a.color("color"))}};var M={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};a.prototype.parseBorders=function(a){var f=a.parseBounds(),d=x(a),e=["Top","Right","Bottom","Left"].map(function(b,c){var f=a.css("border"+b+"Style"),d=a.color("border"+b+"Color");"inset"===f&&d.isBlack()&&(d=new B([255,255,255,d.a]));f=M[f]?M[f][c]:null;return{width:a.cssInt("border"+b+"Width"),color:f?d[f[0]](f[1]):d,args:null}}),h=c(f,d,e);return{clip:this.parseBackgroundClip(a,h,e,d,f),borders:b(e,
            f,h,d)}};a.prototype.parseBackgroundClip=function(a,b,c,f,d){var e=[];switch(a.css("backgroundClip")){case "content-box":case "padding-box":u(e,f[0],f[1],b.topLeftInner,b.topRightInner,d.left+c[3].width,d.top+c[0].width);u(e,f[1],f[2],b.topRightInner,b.bottomRightInner,d.left+d.width-c[1].width,d.top+c[0].width);u(e,f[2],f[3],b.bottomRightInner,b.bottomLeftInner,d.left+d.width-c[1].width,d.top+d.height-c[2].width);u(e,f[3],f[0],b.bottomLeftInner,b.topLeftInner,d.left+c[3].width,d.top+d.height-c[2].width);
            break;default:u(e,f[0],f[1],b.topLeftOuter,b.topRightOuter,d.left,d.top),u(e,f[1],f[2],b.topRightOuter,b.bottomRightOuter,d.left+d.width,d.top),u(e,f[2],f[3],b.bottomRightOuter,b.bottomLeftOuter,d.left+d.width,d.top+d.height),u(e,f[3],f[0],b.bottomLeftOuter,b.topLeftOuter,d.left,d.top+d.height)}return e};k.exports=a},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(g,k,m){function a(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             f,h){var g="withCredentials"in new XMLHttpRequest;if(!f)return Promise.reject("No proxy configured");var r=d(g);a=b(f,a,r);return g?c(a):e(h,a,r).then(function(a){return u(a.content)})}function e(a,b,c){return new Promise(function(f,d){var e=a.createElement("script"),h=function(){delete window.html2canvas.proxy[c];a.body.removeChild(e)};window.html2canvas.proxy[c]=function(a){h();f(a)};e.src=b;e.onerror=function(a){h();d(a)};a.body.appendChild(e)})}function d(a){return a?"":"html2canvas_"+Date.now()+
    "_"+ ++p+"_"+Math.round(1E5*Math.random())}function b(a,b,c){return a+"?url="+encodeURIComponent(b)+(c.length?"&callback=html2canvas.proxy."+c:"")}function h(a){return function(b){var c=new DOMParser,d;try{d=c.parseFromString(b,"text/html")}catch(e){f("DOMParser not supported, falling back to createHTMLDocument");d=document.implementation.createHTMLDocument("");try{d.open(),d.write(b),d.close()}catch(h){f("createHTMLDocument write not supported, falling back to document.body.innerHTML"),d.body.innerHTML=
        b}}b=d.querySelector("base");b&&b.href.host||(b=d.createElement("base"),b.href=a,d.head.insertBefore(b,d.head.firstChild));return d}}var c=g("./xhr");k=g("./utils");var f=g("./log"),r=g("./clone"),u=k.decode64,p=0;m.Proxy=a;m.ProxyURL=function(a,c,f){var h="crossOrigin"in new Image,g=d(h);a=b(c,a,g);return h?Promise.resolve(a):e(f,a,g).then(function(a){return"data:"+a.type+";base64,"+a.content})};m.loadUrlDocument=function(b,c,f,d,e,g){return(new a(b,c,window.document)).then(h(b)).then(function(a){return r(a,
        f,d,e,g,0,0)})}},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(g,k,m){var a=g("./proxy").ProxyURL;k.exports=function(e,d){var b=document.createElement("a");b.href=e;this.src=e=b.href;this.image=new Image;var h=this;this.promise=new Promise(function(b,f){h.image.crossOrigin="Anonymous";h.image.onload=b;h.image.onerror=f;(new a(e,d,document)).then(function(a){h.image.src=a})["catch"](f)})}},{"./proxy":16}],18:[function(g,k,m){function a(a,b,h){e.call(this,a,b);this.isPseudoElement=
        !0;this.before=":before"===h}var e=g("./nodecontainer");a.prototype.cloneTo=function(d){a.prototype.cloneTo.call(this,d);d.isPseudoElement=!0;d.before=this.before};a.prototype=Object.create(e.prototype);a.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node);this.parent.node.className+=" "+this.getHideClass()};a.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node);this.parent.node.className=
        this.parent.node.className.replace(this.getHideClass(),"")};a.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]};a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before";a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after";k.exports=a},{"./nodecontainer":14}],19:[function(g,k,m){function a(a,b,e,c,f){this.width=a;this.height=b;this.images=e;this.options=c;this.document=f}var e=g("./log");
        a.prototype.renderImage=function(a,b,e,c){var f=a.cssInt("paddingLeft"),g=a.cssInt("paddingTop"),k=a.cssInt("paddingRight");a=a.cssInt("paddingBottom");e=e.borders;k=b.width-(e[1].width+e[3].width+f+k);a=b.height-(e[0].width+e[2].width+g+a);this.drawImage(c,0,0,c.image.width||k,c.image.height||a,b.left+f+e[3].width,b.top+g+e[0].width,k,a)};a.prototype.renderBackground=function(a,b,e){0<b.height&&0<b.width&&(this.renderBackgroundColor(a,b),this.renderBackgroundImage(a,b,e))};a.prototype.renderBackgroundColor=
            function(a,b){var e=a.color("backgroundColor");e.isTransparent()||this.rectangle(b.left,b.top,b.width,b.height,e)};a.prototype.renderBorders=function(a){a.forEach(this.renderBorder,this)};a.prototype.renderBorder=function(a){a.color.isTransparent()||null===a.args||this.drawShape(a.args,a.color)};a.prototype.renderBackgroundImage=function(a,b,h){a.parseBackgroundImages().reverse().forEach(function(c,f,g){switch(c.method){case "url":var k=this.images.get(c.args[0]);k?this.renderBackgroundRepeating(a,
            b,k,g.length-(f+1),h):e("Error loading background-image",c.args[0]);break;case "linear-gradient":case "gradient":(f=this.images.get(c.value))?this.renderBackgroundGradient(f,b,h):e("Error loading background-image",c.args[0]);break;case "none":break;default:e("Unknown background-image type",c.args[0])}},this)};a.prototype.renderBackgroundRepeating=function(a,b,e,c,f){var g=a.parseBackgroundSize(b,e.image,c),k=a.parseBackgroundPosition(b,e.image,c,g);switch(a.parseBackgroundRepeat(c)){case "repeat-x":case "repeat no-repeat":this.backgroundRepeatShape(e,
            k,g,b,b.left+f[3],b.top+k.top+f[0],99999,g.height,f);break;case "repeat-y":case "no-repeat repeat":this.backgroundRepeatShape(e,k,g,b,b.left+k.left+f[3],b.top+f[0],g.width,99999,f);break;case "no-repeat":this.backgroundRepeatShape(e,k,g,b,b.left+k.left+f[3],b.top+k.top+f[0],g.width,g.height,f);break;default:this.renderBackgroundRepeat(e,k,g,{top:b.top,left:b.left},f[3],f[0])}};k.exports=a},{"./log":13}],20:[function(g,k,m){function a(a,b){d.apply(this,arguments);this.canvas=this.options.canvas||this.document.createElement("canvas");
        this.options.canvas||(this.canvas.width=a,this.canvas.height=b);this.ctx=this.canvas.getContext("2d");this.taintCtx=this.document.createElement("canvas").getContext("2d");this.ctx.textBaseline="bottom";this.variables={};h("Initialized CanvasRenderer with size",a,"x",b)}function e(a){return 0<a.length}var d=g("../renderer"),b=g("../lineargradientcontainer"),h=g("../log");a.prototype=Object.create(d.prototype);a.prototype.setFillStyle=function(a){this.ctx.fillStyle="object"===typeof a&&a.isColor?a.toString():
        a;return this.ctx};a.prototype.rectangle=function(a,b,d,e,g){this.setFillStyle(g).fillRect(a,b,d,e)};a.prototype.circle=function(a,b,d,e){this.setFillStyle(e);this.ctx.beginPath();this.ctx.arc(a+d/2,b+d/2,d/2,0,2*Math.PI,!0);this.ctx.closePath();this.ctx.fill()};a.prototype.circleStroke=function(a,b,d,e,g,h){this.circle(a,b,d,e);this.ctx.strokeStyle=h.toString();this.ctx.stroke()};a.prototype.drawShape=function(a,b){this.shape(a);this.setFillStyle(b).fill()};a.prototype.taints=function(a){if(null===
        a.tainted){this.taintCtx.drawImage(a.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),a.tainted=!1}catch(b){this.taintCtx=document.createElement("canvas").getContext("2d"),a.tainted=!0}}return a.tainted};a.prototype.drawImage=function(a,b,d,e,g,h,k,m,n){this.taints(a)&&!this.options.allowTaint||this.ctx.drawImage(a.image,b,d,e,g,h,k,m,n)};a.prototype.clip=function(a,b,d){this.ctx.save();a.filter(e).forEach(function(a){this.shape(a).clip()},this);b.call(d);this.ctx.restore()};a.prototype.shape=function(a){this.ctx.beginPath();
        a.forEach(function(a,b){"rect"===a[0]?this.ctx.rect.apply(this.ctx,a.slice(1)):this.ctx[0===b?"moveTo":a[0]+"To"].apply(this.ctx,a.slice(1))},this);this.ctx.closePath();return this.ctx};a.prototype.font=function(a,b,d,e,g,h){this.setFillStyle(a).font=[b,d,e,g,h].join(" ").split(",")[0]};a.prototype.fontShadow=function(a,b,d,e){this.setVariable("shadowColor",a.toString()).setVariable("shadowOffsetY",b).setVariable("shadowOffsetX",d).setVariable("shadowBlur",e)};a.prototype.clearShadow=function(){this.setVariable("shadowColor",
        "rgba(0,0,0,0)")};a.prototype.setOpacity=function(a){this.ctx.globalAlpha=a};a.prototype.setTransform=function(a){this.ctx.translate(a.origin[0],a.origin[1]);this.ctx.transform.apply(this.ctx,a.matrix);this.ctx.translate(-a.origin[0],-a.origin[1])};a.prototype.setVariable=function(a,b){this.variables[a]!==b&&(this.variables[a]=this.ctx[a]=b);return this};a.prototype.text=function(a,b,d){this.ctx.fillText(a,b,d)};a.prototype.backgroundRepeatShape=function(a,b,d,e,g,h,k,m,n){this.clip([[["line",Math.round(g),
        Math.round(h)],["line",Math.round(g+k),Math.round(h)],["line",Math.round(g+k),Math.round(m+h)],["line",Math.round(g),Math.round(m+h)]]],function(){this.renderBackgroundRepeat(a,b,d,e,n[3],n[0])},this)};a.prototype.renderBackgroundRepeat=function(a,b,d,e,g,h){g=Math.round(e.left+b.left+g);b=Math.round(e.top+b.top+h);this.setFillStyle(this.ctx.createPattern(this.resizeImage(a,d),"repeat"));this.ctx.translate(g,b);this.ctx.fill();this.ctx.translate(-g,-b)};a.prototype.renderBackgroundGradient=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                d){if(a instanceof b){var e=this.ctx.createLinearGradient(d.left+d.width*a.x0,d.top+d.height*a.y0,d.left+d.width*a.x1,d.top+d.height*a.y1);a.colorStops.forEach(function(a){e.addColorStop(a.stop,a.color.toString())});this.rectangle(d.left,d.top,d.width,d.height,e)}};a.prototype.resizeImage=function(a,b){var d=a.image;if(d.width===b.width&&d.height===b.height)return d;var e=document.createElement("canvas");e.width=b.width;e.height=b.height;e.getContext("2d").drawImage(d,0,0,d.width,d.height,0,0,b.width,
        b.height);return e};k.exports=a},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(g,k,m){function a(a,b,g,c){e.call(this,g,c);this.ownStacking=a;this.contexts=[];this.children=[];this.opacity=(this.parent?this.parent.stack.opacity:1)*b}var e=g("./nodecontainer");a.prototype=Object.create(e.prototype);a.prototype.getParentStack=function(a){var b=this.parent?this.parent.stack:null;return b?b.ownStacking?b:b.getParentStack(a):a.stack};k.exports=a},{"./nodecontainer":14}],
    22:[function(g,k,m){function a(a){this.rangeBounds=this.testRangeBounds(a);this.cors=this.testCORS();this.svg=this.testSVG()}a.prototype.testRangeBounds=function(a){var d,b,g=!1;a.createRange&&(d=a.createRange(),d.getBoundingClientRect&&(b=a.createElement("boundtest"),b.style.height="123px",b.style.display="block",a.body.appendChild(b),d.selectNode(b),d=d.getBoundingClientRect(),d=d.height,123===d&&(g=!0),a.body.removeChild(b)));return g};a.prototype.testCORS=function(){return"undefined"!==typeof(new Image).crossOrigin};
        a.prototype.testSVG=function(){var a=new Image,d=document.createElement("canvas"),b=d.getContext("2d");a.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{b.drawImage(a,0,0),d.toDataURL()}catch(g){return!1}return!0};k.exports=a},{}],23:[function(g,k,m){function a(a){this.src=a;this.image=null;var d=this;this.promise=this.hasFabric().then(function(){return d.isInline(a)?Promise.resolve(d.inlineFormatting(a)):e(a)}).then(function(a){return new Promise(function(b){window.html2canvas.svg.fabric.loadSVGFromString(a,
        d.createCanvas.call(d,b))})})}var e=g("./xhr"),d=g("./utils").decode64;a.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(Error("html2canvas.svg.js is not loaded, cannot render svg"))};a.prototype.inlineFormatting=function(a){return/^data:image\/svg\+xml;base64,/.test(a)?this.decode64(this.removeContentType(a)):this.removeContentType(a)};a.prototype.removeContentType=function(a){return a.replace(/^data:image\/svg\+xml(;base64)?,/,
        "")};a.prototype.isInline=function(a){return/^data:image\/svg\+xml/i.test(a)};a.prototype.createCanvas=function(a){var d=this;return function(c,e){var g=new window.html2canvas.svg.fabric.StaticCanvas("c");d.image=g.lowerCanvasEl;g.setWidth(e.width).setHeight(e.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(c,e)).renderAll();a(g.lowerCanvasEl)}};a.prototype.decode64=function(a){return"function"===typeof window.atob?window.atob(a):d(a)};k.exports=a},{"./utils":26,"./xhr":28}],24:[function(g,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     k,m){function a(a,d){this.src=a;this.image=null;var b=this;this.promise=d?new Promise(function(d,c){b.image=new Image;b.image.onload=d;b.image.onerror=c;b.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(a);!0===b.image.complete&&d(b.image)}):this.hasFabric().then(function(){return new Promise(function(d){window.html2canvas.svg.fabric.parseSVGDocument(a,b.createCanvas.call(b,d))})})}g=g("./svgcontainer");a.prototype=Object.create(g.prototype);k.exports=a},{"./svgcontainer":23}],
    25:[function(g,k,m){function a(a,e){d.call(this,a,e)}function e(a,d,c){if(0<a.length)return d+c.toUpperCase()}var d=g("./nodecontainer");a.prototype=Object.create(d.prototype);a.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))};a.prototype.transform=function(a){var d=this.node.data;switch(a){case "lowercase":return d.toLowerCase();case "capitalize":return d.replace(/(^|\s|:|-|\(|\))([a-z])/g,e);case "uppercase":return d.toUpperCase();default:return d}};
        k.exports=a},{"./nodecontainer":14}],26:[function(g,k,m){m.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"};m.bind=function(a,e){return function(){return a.apply(e,arguments)}};m.decode64=function(a){var e=a.length,d,b,g,c,f,k,m="";for(d=0;d<e;d+=4)b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[d]),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[d+1]),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[d+
    2]),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[d+3]),b=b<<2|g>>4,g=(g&15)<<4|c>>2,k=(c&3)<<6|f,m=64===c?m+String.fromCharCode(b):64===f||-1===f?m+String.fromCharCode(b,g):m+String.fromCharCode(b,g,k);return m};m.getBounds=function(a){if(a.getBoundingClientRect){var e=a.getBoundingClientRect(),d=null==a.offsetWidth?e.width:a.offsetWidth;return{top:e.top,bottom:e.bottom||e.top+e.height,right:e.left+d,left:e.left,width:d,height:null==a.offsetHeight?e.height:a.offsetHeight}}return{}};
        m.offsetBounds=function(a){var e=a.offsetParent?m.offsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+e.top,bottom:a.offsetTop+a.offsetHeight+e.top,right:a.offsetLeft+e.left+a.offsetWidth,left:a.offsetLeft+e.left,width:a.offsetWidth,height:a.offsetHeight}};m.parseBackgrounds=function(a){var e,d,b,g,c,f=[],k=0,m=0,p,q,l=function(){e&&('"'===d.substr(0,1)&&(d=d.substr(1,d.length-2)),d&&q.push(d),"-"===e.substr(0,1)&&0<(g=e.indexOf("-",1)+1)&&(b=e.substr(0,g),e=e.substr(g)),f.push({prefix:b,
            method:e.toLowerCase(),value:c,args:q,image:null}));q=[];e=b=d=c=""};q=[];e=b=d=c="";a.split("").forEach(function(a){if(!(0===k&&-1<" \r\n\t".indexOf(a))){switch(a){case '"':p?p===a&&(p=null):p=a;break;case "(":if(p)break;else{if(0===k){k=1;c+=a;return}m++}break;case ")":if(p)break;else if(1===k){if(0===m){k=0;c+=a;l();return}m--}break;case ",":if(!p){if(0===k){l();return}if(1===k&&0===m&&!e.match(/^url$/i)){q.push(d);d="";c+=a;return}}}c+=a;0===k?e+=a:d+=a}});l();return f}},{}],27:[function(g,k,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             m){function a(a){e.apply(this,arguments);this.type="linear"===a.args[0]?e.TYPES.LINEAR:e.TYPES.RADIAL}var e=g("./gradientcontainer");a.prototype=Object.create(e.prototype);k.exports=a},{"./gradientcontainer":9}],28:[function(g,k,m){k.exports=function(a){return new Promise(function(e,d){var b=new XMLHttpRequest;b.open("GET",a);b.onload=function(){200===b.status?e(b.responseText):d(Error(b.statusText))};b.onerror=function(){d(Error("Network Error"))};b.send()})}},{}]},{},[4])(4)});